<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mr. Grammar: ‡∏™‡∏£‡∏∏‡∏õ V. to be, do, have (New Layout)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Kanit', sans-serif;
        }
        .modal {
            display: none; /* Hidden by default */
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transform: translateY(20px) scale(0.95);
            transition: all 0.3s ease-in-out;
        }
        .modal.flex {
            display: flex;
        }
        .modal.flex .modal-content {
            transform: translateY(0) scale(1);
        }
        .keyword {
            text-decoration: underline;
            text-decoration-color: #fbbf24; /* amber-400 */
            text-decoration-thickness: 2px;
            text-underline-offset: 3px;
            cursor: pointer;
            font-weight: 600;
            transition: color 0.2s;
        }
        .page-title-verb-be { color: #3b82f6; }
        .page-title-verb-do { color: #22c55e; }
        .page-title-verb-have { color: #ef4444; }

        .keyword-be { color: #2563eb; }
        .keyword-be:hover { color: #1d4ed8; }

        .keyword-do { color: #16a34a; }
        .keyword-do:hover { color: #15803d; }
        
        .keyword-have { color: #dc2626; }
        .keyword-have:hover { color: #b91c1c; }
    </style>
</head>
<body class="bg-gradient-to-br from-sky-50 to-indigo-100 flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="w-full max-w-4xl bg-white/70 backdrop-blur-xl rounded-2xl shadow-2xl p-6 md:p-8 ring-1 ring-black ring-opacity-5">
        
        <header class="text-center mb-8">
            <h1 id="page-title" class="text-3xl md:text-4xl font-bold text-slate-800 transition-colors duration-500">
                </h1>
            <p class="text-slate-500 mt-2">‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô 3 ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</p>
        </header>

        <main id="page-content" class="mb-8 min-h-[480px] md:min-h-[420px]">
            </main>

        <footer class="flex justify-between items-center">
            <button id="prev-btn" class="bg-slate-200 hover:bg-slate-300 text-slate-800 font-bold py-2 px-5 rounded-lg transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-slate-200 transform hover:scale-105">
                &larr; ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
            </button>
            <div id="page-indicator" class="text-slate-600 font-medium text-sm md:text-base"></div>
            <button id="next-btn" class="text-white font-bold py-2 px-5 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ &rarr;
            </button>
        </footer>
    </div>

    <div id="keyword-modal" class="modal fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4">
        <div class="modal-content bg-white rounded-2xl shadow-xl w-full max-w-md p-6 relative">
            <button id="close-modal-btn" class="absolute top-3 right-4 text-gray-400 hover:text-gray-800 text-3xl font-light">&times;</button>
            <h3 id="modal-title" class="text-2xl font-bold mb-5"></h3>
            <div class="space-y-4">
                <div>
                    <h4 class="font-semibold text-gray-500 text-sm tracking-wider uppercase">‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á</h4>
                    <p id="modal-pronunciation" class="text-lg font-medium"></p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-500 text-sm tracking-wider uppercase">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢</h4>
                    <p id="modal-meaning" class="text-lg"></p>
                </div>
                <div>
                    <h4 class="font-semibold text-gray-500 text-sm tracking-wider uppercase">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</h4>
                    <p id="modal-example" class="text-lg bg-slate-100 p-3 rounded-lg"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Data for each page ---
        const pagesData = [
            {
                title: "<span class='page-title-verb-be'>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Verb to be</span>",
                themeColor: "blue",
                content: `
                    <div class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                                <h3 class="font-bold text-xl text-slate-800 mb-3">1. ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏ó‡πâ (Main Verb)</h3>
                                <p class="text-slate-600 mb-4">‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤ <strong>"‡πÄ‡∏õ‡πá‡∏ô, ‡∏≠‡∏¢‡∏π‡πà, ‡∏Ñ‡∏∑‡∏≠"</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥</p>
                                <div class="space-y-2 text-slate-700">
                                    <p>‚Ä∫ She <span class="keyword keyword-be">is</span> a doctor.</p>
                                    <p>‚Ä∫ We <span class="keyword keyword-be">were</span> at school.</p>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                                <h3 class="font-bold text-xl text-slate-800 mb-3">2. ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ä‡πà‡∏ß‡∏¢ (Helping Verb)</h3>
                                <p class="text-slate-600 mb-4">‡πÉ‡∏ä‡πâ‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏ó‡πâ‡πÉ‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Continuous Tense ‡πÅ‡∏•‡∏∞ Passive Voice</p>
                                <div class="space-y-2 text-slate-700">
                                     <p>‚Ä∫ He <span class="keyword keyword-be">is</span> <span class="keyword keyword-be">reading</span> a book.</p>
                                     <p>‚Ä∫ This car <span class="keyword keyword-be">was</span> <span class="keyword keyword-be">made</span> in Japan.</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-sky-50 border-t-4 border-sky-400 p-5 rounded-b-lg">
                            <h3 class="font-bold text-lg text-sky-800 mb-3">üí° ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏≥ V. to be</h3>
                            <ul class="list-disc list-inside space-y-2 text-sky-900 leading-relaxed">
                                <li>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå (He, She, It) &rarr; ‡πÉ‡∏ä‡πâ <span class="keyword keyword-be">is</span> (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô), <span class="keyword keyword-be">was</span> (‡∏≠‡∏î‡∏µ‡∏ï)</li>
                                <li>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô "I" &rarr; ‡πÉ‡∏ä‡πâ <span class="keyword keyword-be">am</span> (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô), <span class="keyword keyword-be">was</span> (‡∏≠‡∏î‡∏µ‡∏ï)</li>
                                <li>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå (You, We, They) &rarr; ‡πÉ‡∏ä‡πâ <span class="keyword keyword-be">are</span> (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô), <span class="keyword keyword-be">were</span> (‡∏≠‡∏î‡∏µ‡∏ï)</li>
                            </ul>
                        </div>
                    </div>
                `,
                keywords: {
                    'is': { pronunciation: '<span class="text-blue-600"><u>‡∏≠‡∏¥‡∏™</u></span>', meaning: '‡πÄ‡∏õ‡πá‡∏ô, ‡∏≠‡∏¢‡∏π‡πà, ‡∏Ñ‡∏∑‡∏≠ (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå)', example: 'The cat <strong>is</strong> sleeping.' },
                    'am': { pronunciation: '<span class="text-blue-600"><u>‡πÅ‡∏≠‡∏°</u></span>', meaning: '‡πÄ‡∏õ‡πá‡∏ô, ‡∏≠‡∏¢‡∏π‡πà, ‡∏Ñ‡∏∑‡∏≠ (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô I)', example: 'I <strong>am</strong> hungry.' },
                    'are': { pronunciation: '<span class="text-blue-600"><u>‡∏≠‡∏≤‡∏£‡πå</u></span>', meaning: '‡πÄ‡∏õ‡πá‡∏ô, ‡∏≠‡∏¢‡∏π‡πà, ‡∏Ñ‡∏∑‡∏≠ (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏û‡∏´‡∏π‡∏û‡∏à‡∏ô‡πå)', example: 'They <strong>are</strong> friends.' },
                    'was': { pronunciation: '<span class="text-blue-600"><u>‡∏ß‡∏≠‡∏™</u></span>', meaning: '‡πÄ‡∏õ‡πá‡∏ô, ‡∏≠‡∏¢‡∏π‡πà, ‡∏Ñ‡∏∑‡∏≠ (‡∏£‡∏π‡∏õ‡∏≠‡∏î‡∏µ‡∏ï‡∏Ç‡∏≠‡∏á is/am)', example: 'He <strong>was</strong> tired yesterday.' },
                    'were': { pronunciation: '<span class="text-blue-600"><u>‡πÄ‡∏ß‡∏µ‡∏¢‡∏£‡πå</u></span>', meaning: '‡πÄ‡∏õ‡πá‡∏ô, ‡∏≠‡∏¢‡∏π‡πà, ‡∏Ñ‡∏∑‡∏≠ (‡∏£‡∏π‡∏õ‡∏≠‡∏î‡∏µ‡∏ï‡∏Ç‡∏≠‡∏á are)', example: 'You <strong>were</strong> right.' },
                    'reading': { pronunciation: '<span class="text-blue-600"><u>‡∏£‡∏µ‡∏î</u>-‡∏î‡∏¥‡∏á</span>', meaning: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô (‡∏£‡∏π‡∏õ V-ing)', example: 'She is <strong>reading</strong> a fantasy novel.' },
                    'made': { pronunciation: '<span class="text-blue-600">‡πÄ‡∏°‡∏î</span>', meaning: '‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥, ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á (‡∏£‡∏π‡∏õ V.3)', example: 'This cake was <strong>made</strong> by my mother.' }
                }
            },
            {
                title: "<span class='page-title-verb-do'>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Verb to do</span>",
                themeColor: "green",
                content: `
                    <div class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                                <h3 class="font-bold text-xl text-slate-800 mb-3">1. ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏ó‡πâ (Main Verb)</h3>
                                <p class="text-slate-600 mb-4">‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤ <strong>"‡∏ó‡∏≥"</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</p>
                                <div class="space-y-2 text-slate-700">
                                    <p>‚Ä∫ I <span class="keyword keyword-do">do</span> my homework.</p>
                                    <p>‚Ä∫ She <span class="keyword keyword-do">did</span> a great job.</p>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                                <h3 class="font-bold text-xl text-slate-800 mb-3">2. ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ä‡πà‡∏ß‡∏¢ (Helping Verb)</h3>
                                <p class="text-slate-600 mb-4">‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°, ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò, ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ô‡πâ‡∏ô‡∏¢‡πâ‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å</p>
                                <div class="space-y-2 text-slate-700">
                                     <p>‚Ä∫ <span class="keyword keyword-do">Do</span> you like coffee?</p>
                                     <p>‚Ä∫ He <span class="keyword keyword-do">does</span> not play games.</p>
                                     <p>‚Ä∫ I <span class="keyword keyword-do">do</span> want to go!</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-green-50 border-t-4 border-green-400 p-5 rounded-b-lg">
                            <h3 class="font-bold text-lg text-green-800 mb-3">üí° ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏≥ V. to do</h3>
                            <ul class="list-disc list-inside space-y-2 text-green-900 leading-relaxed">
                                <li>‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 1 (V.1) ‡πÄ‡∏™‡∏°‡∏≠</li>
                                <li>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå (He, She, It) &rarr; ‡πÉ‡∏ä‡πâ <span class="keyword keyword-do">does</span></li>
                                <li>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡πÜ (I, You, We, They) &rarr; ‡πÉ‡∏ä‡πâ <span class="keyword keyword-do">do</span></li>
                                <li>‡∏£‡∏π‡∏õ‡∏≠‡∏î‡∏µ‡∏ï‡πÉ‡∏ä‡πâ <span class="keyword keyword-do">did</span> ‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô</li>
                            </ul>
                        </div>
                    </div>
                `,
                keywords: {
                    'do': { pronunciation: '<span class="text-green-600"><u>‡∏î‡∏π</u></span>', meaning: '‡∏ó‡∏≥ (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö I/You/We/They), ‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò', example: 'What do you <strong>do</strong> for a living?' },
                    'does': { pronunciation: '<span class="text-green-600"><u>‡∏î‡∏≤‡∏™</u></span>', meaning: '‡∏ó‡∏≥ (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö He/She/It), ‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò', example: '<strong>Does</strong> he know the answer?' },
                    'did': { pronunciation: '<span class="text-green-600"><u>‡∏î‡∏¥‡∏î</u></span>', meaning: '‡∏ó‡∏≥ (‡∏£‡∏π‡∏õ‡∏≠‡∏î‡∏µ‡∏ï), ‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï', example: 'She <strong>did</strong> not see me.' }
                }
            },
            {
                title: "<span class='page-title-verb-have'>‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Verb to have</span>",
                themeColor: "red",
                content: `
                    <div class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                                <h3 class="font-bold text-xl text-slate-800 mb-3">1. ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏ó‡πâ (Main Verb)</h3>
                                <p class="text-slate-600 mb-4">‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ß‡πà‡∏≤ <strong>"‡∏°‡∏µ"</strong> ‡∏´‡∏£‡∏∑‡∏≠ <strong>"‡∏Å‡∏¥‡∏ô"</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á</p>
                                <div class="space-y-2 text-slate-700">
                                    <p>‚Ä∫ They <span class="keyword keyword-have">have</span> a big house.</p>
                                    <p>‚Ä∫ She <span class="keyword keyword-have">had</span> breakfast at 7 AM.</p>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-md border border-slate-200">
                                <h3 class="font-bold text-xl text-slate-800 mb-3">2. ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ä‡πà‡∏ß‡∏¢ (Helping Verb)</h3>
                                <p class="text-slate-600 mb-4">‡πÉ‡∏ä‡πâ‡∏ß‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà 3 (V.3) ‡πÉ‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Perfect Tenses</p>
                                <div class="space-y-2 text-slate-700">
                                     <p>‚Ä∫ I <span class="keyword keyword-have">have</span> <span class="keyword keyword-have">finished</span> my work.</p>
                                     <p>‚Ä∫ He <span class="keyword keyword-have">had</span> <span class="keyword keyword-have">left</span> before I arrived.</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-red-50 border-t-4 border-red-400 p-5 rounded-b-lg">
                            <h3 class="font-bold text-lg text-red-800 mb-3">üí° ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏≥ V. to have</h3>
                            <ul class="list-disc list-inside space-y-2 text-red-900 leading-relaxed">
                                <li>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ä‡πà‡∏ß‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ä‡πà‡∏≠‡∏á 3 (V.3) ‡πÄ‡∏™‡∏°‡∏≠!</li>
                                <li>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏û‡∏à‡∏ô‡πå (He, She, It) &rarr; ‡πÉ‡∏ä‡πâ <span class="keyword keyword-have">has</span></li>
                                <li>‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏≠‡∏∑‡πà‡∏ô ‡πÜ (I, You, We, They) &rarr; ‡πÉ‡∏ä‡πâ <span class="keyword keyword-have">have</span></li>
                                <li>‡∏£‡∏π‡∏õ‡∏≠‡∏î‡∏µ‡∏ï‡πÉ‡∏ä‡πâ <span class="keyword keyword-have">had</span> ‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô</li>
                            </ul>
                        </div>
                    </div>
                `,
                keywords: {
                    'have': { pronunciation: '<span class="text-red-600"><u>‡πÅ‡∏Æ‡∏ü‡∏ß</u></span>', meaning: '‡∏°‡∏µ, ‡∏Å‡∏¥‡∏ô (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö I/You/We/They)', example: 'We <strong>have</strong> a meeting now.' },
                    'has': { pronunciation: '<span class="text-red-600"><u>‡πÅ‡∏Æ‡∏™</u></span>', meaning: '‡∏°‡∏µ, ‡∏Å‡∏¥‡∏ô (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö He/She/It)', example: 'The company <strong>has</strong> a new policy.' },
                    'had': { pronunciation: '<span class="text-red-600"><u>‡πÅ‡∏Æ‡∏î</u></span>', meaning: '‡∏°‡∏µ, ‡∏Å‡∏¥‡∏ô (‡∏£‡∏π‡∏õ‡∏≠‡∏î‡∏µ‡∏ï)', example: 'I <strong>had</strong> a strange dream last night.' },
                    'finished': { pronunciation: '<span class="text-red-600"><u>‡∏ü‡∏¥‡∏ô</u>-‡∏¥‡∏ä‡∏ó</span>', meaning: '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô (‡∏£‡∏π‡∏õ V.3)', example: 'Have you <strong>finished</strong> the report?' },
                    'left': { pronunciation: '<span class="text-red-600"><u>‡πÄ‡∏•‡∏ü‡∏ó</u></span>', meaning: '‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß (‡∏£‡∏π‡∏õ V.3 ‡∏Ç‡∏≠‡∏á leave)', example: 'The train had already <strong>left</strong>.' }
                }
            }
        ];

        // --- App Logic ---
        let currentPageIndex = 0;

        const pageTitleEl = document.getElementById('page-title');
        const pageContentEl = document.getElementById('page-content');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const pageIndicatorEl = document.getElementById('page-indicator');
        
        const modalEl = document.getElementById('keyword-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const modalTitleEl = document.getElementById('modal-title');
        const modalPronunciationEl = document.getElementById('modal-pronunciation');
        const modalMeaningEl = document.getElementById('modal-meaning');
        const modalExampleEl = document.getElementById('modal-example');

        const themeColors = {
            blue: { bg: 'bg-blue-500', hover: 'hover:bg-blue-600', modalHeader: 'text-blue-600' },
            green: { bg: 'bg-green-500', hover: 'hover:bg-green-600', modalHeader: 'text-green-600' },
            red: { bg: 'bg-red-500', hover: 'hover:bg-red-600', modalHeader: 'text-red-600' }
        };

        function updateNav() {
            prevBtn.disabled = currentPageIndex === 0;
            nextBtn.disabled = currentPageIndex === pagesData.length - 1;
            pageIndicatorEl.textContent = `‡∏´‡∏ô‡πâ‡∏≤ ${currentPageIndex + 1} / ${pagesData.length}`;
            
            // Update next button color based on theme
            const currentTheme = pagesData[currentPageIndex].themeColor;
            const colors = themeColors[currentTheme];
            nextBtn.className = `text-white font-bold py-2 px-5 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg ${colors.bg} ${colors.hover} disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-slate-400`;
            if (nextBtn.disabled) {
                nextBtn.classList.remove(colors.bg, colors.hover);
                nextBtn.classList.add('bg-slate-400');
            }
        }

        function renderPage(index) {
            const pageData = pagesData[index];
            pageTitleEl.innerHTML = pageData.title;
            pageContentEl.innerHTML = pageData.content;
            
            const keywords = pageContentEl.querySelectorAll('.keyword');
            keywords.forEach(kw => {
                kw.addEventListener('click', () => {
                    const term = kw.textContent;
                    const keywordData = pagesData[currentPageIndex].keywords[term];
                    if (keywordData) {
                        showModal(term, keywordData);
                    }
                });
            });
            updateNav();
        }

        function showModal(term, data) {
            const currentTheme = pagesData[currentPageIndex].themeColor;
            const colors = themeColors[currentTheme];

            modalTitleEl.innerHTML = `‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå: <span class="${colors.modalHeader}">${term}</span>`;
            modalPronunciationEl.innerHTML = data.pronunciation;
            modalMeaningEl.textContent = data.meaning;
            modalExampleEl.innerHTML = data.example;
            modalEl.classList.add('flex');
        }

        function hideModal() {
            modalEl.classList.remove('flex');
        }

        prevBtn.addEventListener('click', () => {
            if (currentPageIndex > 0) {
                currentPageIndex--;
                renderPage(currentPageIndex);
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentPageIndex < pagesData.length - 1) {
                currentPageIndex++;
                renderPage(currentPageIndex);
            }
        });

        closeModalBtn.addEventListener('click', hideModal);
        modalEl.addEventListener('click', (e) => {
            if (e.target === modalEl) {
                hideModal();
            }
        });

        // Initial render
        document.addEventListener('DOMContentLoaded', () => {
            renderPage(currentPageIndex);
        });
    </script>
</body>
</html>