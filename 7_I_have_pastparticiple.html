<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structure #7 - I have + (past participle) (with translation)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Mitr', sans-serif;
        }
        .font-poppins {
            font-family: 'Poppins', sans-serif;
        }
        .sentence-btn {
            transition: all 0.2s ease-in-out;
        }
        #modal {
            transition: opacity 0.3s ease;
        }
        .modal-content-container {
            transition: transform 0.3s ease, opacity 0.3s ease;
            opacity: 0;
            transform: translateY(20px) scale(0.95);
        }
        #modal.active .modal-content-container {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-orange-100 via-amber-100 to-yellow-100 min-h-screen">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">

        <header class="text-center mb-10">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-orange-500 font-poppins">Structure #7</h1>
            <h2 class="text-2xl sm:text-3xl font-bold text-slate-800 mt-2 font-poppins">"I have + (past participle)"</h2>
            <p class="text-slate-600 mt-4 max-w-2xl mx-auto text-lg">
                ใช้บอกเหตุการณ์ที่ <strong class="text-red-600">"เพิ่งจบไป"</strong> แต่ยังส่งผลถึงปัจจุบัน หรือใช้เพื่อ <strong class="text-orange-600">"แจ้งข่าว/อัปเดต"</strong> ว่าเราได้ทำบางสิ่งสำเร็จเรียบร้อยแล้ว
            </p>
        </header>

        <main id="sentences-grid" class="grid grid-cols-1 md:grid-cols-2 gap-5">
            </main>

        <footer class="text-center mt-12">
            <p class="text-slate-700 font-medium">อังกฤษฉบับคนเรียนไม่รู้เรื่อง โดยครูสาลี่</p>
        </footer>

    </div>

    <div id="modal" class="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center p-4 z-50 opacity-0 pointer-events-none">
        <div class="modal-content-container w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-slate-50 rounded-2xl shadow-2xl">
            <div id="modal-header" class="p-6 sm:p-8 rounded-t-2xl bg-gradient-to-r from-red-500 to-orange-500">
                <p id="modal-english" class="font-poppins font-bold text-2xl text-white text-center"></p>
                <p id="modal-thai" class="text-xl text-white text-center mt-2 opacity-90"></p>
            </div>
            <div class="p-6 sm:p-8">
                <div id="modal-details" class="space-y-5">
                    </div>
                <div class="text-center mt-8">
                    <button id="close-modal-btn" class="bg-slate-600 hover:bg-slate-700 text-white font-bold py-2 px-8 rounded-full shadow-lg transform hover:scale-105 transition-transform duration-300">
                        ปิด
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const sentences = [
            {
                eng: "I have finished my work.", th: "ฉันทำงานของฉันเสร็จแล้ว",
                context: "ใช้เพื่ออัปเดตสถานะของงานว่าได้ทำเสร็จสิ้นเรียบร้อยแล้ว ผลในปัจจุบันคือ 'ตอนนี้ฉันว่างแล้ว' หรือ 'พร้อมสำหรับงานต่อไป'",
                dialogue: { a: "Do you want to get some coffee?", b: "Sure! I have finished my work, so I'm free." },
                alternatives: "<strong>I've just finished my work.</strong> (เพิ่งเสร็จจริงๆ)<br><strong>My work is done.</strong> (งานของฉันเสร็จแล้ว)"
            },
            {
                eng: "I have eaten.", th: "ฉันกินข้าวแล้ว",
                context: "บอกถึงการกระทำที่เพิ่งจบไปและส่งผลถึงปัจจุบัน คือ 'ตอนนี้ฉันอิ่มแล้ว' หรือ 'ไม่หิวแล้ว'",
                dialogue: { a: "Let's go for lunch.", b: "Oh, I have eaten already. You can go ahead." },
                alternatives: "<strong>I've already eaten.</strong> (กินไปเรียบร้อยแล้ว)<br><strong>I just ate.</strong> (ใช้ Past Simple ก็ได้ในความหมายว่าเพิ่งกินไป)"
            },
            {
                eng: "I have lost my keys.", th: "ฉันทำกุญแจหาย",
                context: "เน้นผลลัพธ์ในปัจจุบัน คือ 'ตอนนี้ฉันไม่มีกุญแจ และยังหาไม่เจอ' ทำให้เข้าบ้านไม่ได้",
                dialogue: { a: "Why are you waiting outside?", b: "I have lost my keys and I can't get in." },
                alternatives: "<strong>I lost my keys.</strong> (Past Simple บอกว่าทำหาย แต่ไม่ได้เน้นว่าตอนนี้ยังหาไม่เจอเท่า Present Perfect)"
            },
            {
                eng: "I have sent the email.", th: "ฉันส่งอีเมลไปแล้ว",
                context: "ใช้เพื่อยืนยันหรือแจ้งข่าวว่าการกระทำบางอย่างได้สำเร็จลุล่วงไปแล้ว",
                dialogue: { a: "Did you remember to email the client?", b: "Yes, don't worry. I have sent the email." },
                alternatives: "<strong>The email has been sent.</strong> (อีเมลถูกส่งไปแล้ว - รูปแบบ Passive)<br><strong>I just sent it.</strong>"
            },
            {
                eng: "I have made a decision.", th: "ฉันตัดสินใจได้แล้ว",
                context: "ใช้บอกว่ากระบวนการคิดหรือตัดสินใจได้สิ้นสุดลงแล้ว และตอนนี้มีคำตอบที่ชัดเจน",
                dialogue: { a: "So, will you take the job or not?", b: "Yes, I have made a decision. I will take it." },
                alternatives: "<strong>I've decided.</strong><br><strong>My decision is made.</strong>"
            },
            {
                eng: "I have seen this movie before.", th: "ฉันเคยดูหนังเรื่องนี้แล้ว",
                context: "บอกถึงประสบการณ์ในอดีต (ไม่ระบุเวลา) ที่ส่งผลถึงปัจจุบัน คือ 'ตอนนี้ฉันรู้เรื่องราวแล้ว' หรือ 'ไม่อยากดูซ้ำ'",
                dialogue: { a: "Let's watch 'Titanic' tonight.", b: "Oh, I have seen this movie before. Maybe something else?" },
                alternatives: "<strong>I've already seen it.</strong><br><strong>I remember watching this.</strong>"
            },
            {
                eng: "I have forgotten your name.", th: "ฉันลืมชื่อของคุณไปแล้ว",
                context: "เป็นวิธีพูดที่สุภาพกว่า 'I forgot your name' เล็กน้อย เพื่อบอกว่าตอนนี้จำชื่อไม่ได้จริงๆ",
                dialogue: { a: "Hey! Good to see you again!", b: "You too! I'm so sorry, I have forgotten your name." },
                alternatives: "<strong>I'm afraid I've forgotten your name.</strong><br><strong>Your name has slipped my mind.</strong> (สำนวน)"
            },
            {
                eng: "I have changed my mind.", th: "ฉันเปลี่ยนใจแล้ว",
                context: "ใช้เพื่อบอกการเปลี่ยนแปลงการตัดสินใจจากเดิมไปเป็นแบบใหม่",
                dialogue: { a: "I thought you wanted tea.", b: "I did, but I have changed my mind. I'll have coffee instead." },
                alternatives: "<strong>On second thought, I'll have coffee.</strong> (พอคิดดูอีกที, ฉันจะเอา...)"
            },
            {
                eng: "I have booked the tickets.", th: "ฉันจองตั๋วเรียบร้อยแล้ว",
                context: "ใช้แจ้งข่าวดีหรืออัปเดตว่าการเตรียมการสำหรับแผนในอนาคตได้สำเร็จไปแล้วหนึ่งขั้นตอน",
                dialogue: { a: "Are we all set for the concert?", b: "Yes! I have booked the tickets online." },
                alternatives: "<strong>The tickets are booked.</strong><br><strong>I've already taken care of the tickets.</strong>"
            },
            {
                eng: "I have cleaned my room.", th: "ฉันทำความสะอาดห้องแล้ว",
                context: "บอกการกระทำที่เพิ่งทำเสร็จ ซึ่งส่งผลให้ปัจจุบัน 'ห้องสะอาด'",
                dialogue: { a: "Wow, your room looks so tidy!", b: "Thanks. I have cleaned my room this morning." },
                alternatives: "<strong>I just cleaned my room.</strong><br><strong>My room is clean now.</strong>"
            },
            {
                eng: "I have heard that joke before.", th: "ฉันเคยได้ยินมุกนี้แล้ว",
                context: "ใช้บอกว่าเรื่องที่อีกฝ่ายกำลังเล่าไม่ใช่เรื่องใหม่สำหรับเรา",
                dialogue: { a: "Do you want to hear a funny joke?", b: "Go on, but I think I have heard that joke before." },
                alternatives: "<strong>I already know that one.</strong> (ฉันรู้เรื่องนั้นแล้ว)"
            },
            {
                eng: "I have broken my arm.", th: "ฉันแขนหัก",
                context: "บอกเหตุการณ์ในอดีตที่ส่งผลโดยตรงต่อสภาพร่างกายในปัจจุบัน (ตอนนี้แขนยังหักอยู่)",
                dialogue: { a: "Why is your arm in a cast?", b: "I fell off my bike. I have broken my arm." },
                alternatives: "<strong>I broke my arm.</strong> (Past Simple ใช้ได้เหมือนกัน แต่ Present Perfect เน้นผลที่ยังคงอยู่)"
            },
            {
                eng: "I have received your message.", th: "ฉันได้รับข้อความของคุณแล้ว",
                context: "ใช้ยืนยันการรับสาร เพื่อให้อีกฝ่ายรู้ว่าการสื่อสารสำเร็จแล้ว",
                dialogue: { a: "Did you get my email?", b: "Yes, I have received your message. I'll reply soon." },
                alternatives: "<strong>Got it.</strong> (เข้าใจแล้ว/ได้รับแล้ว - ไม่เป็นทางการ)<br><strong>Message received.</strong>"
            },
            {
                eng: "I have told you many times.", th: "ฉันบอกเธอไปหลายครั้งแล้วนะ",
                context: "ใช้แสดงความรู้สึกหงุดหงิดหรือเน้นย้ำว่าเรื่องนี้เคยพูดไปแล้วซ้ำๆ",
                dialogue: { a: "I forgot to lock the door again.", b: "Oh, come on! I have told you many times to lock it." },
                alternatives: "<strong>How many times do I have to tell you?</strong><br><strong>We've been over this.</strong> (เราเคยคุยเรื่องนี้กันแล้ว)"
            },
            {
                eng: "I have bought a new car.", th: "ฉันซื้อรถใหม่แล้ว",
                context: "ใช้ประกาศข่าวหรือการเปลี่ยนแปลงครั้งใหญ่ในชีวิตที่เพิ่งเกิดขึ้น",
                dialogue: { a: "Is that a new car parked outside?", b: "Yes, it's mine! I have bought a new car." },
                alternatives: "<strong>I just got a new car.</strong>"
            },
            {
                eng: "I have found my wallet.", th: "ฉันเจอกระเป๋าตังค์แล้ว",
                context: "ใช้แจ้งข่าวดีหลังจากที่ทำของหายและกำลังหาอยู่ (ตรงข้ามกับ I have lost...)",
                dialogue: { a: "Any luck finding your wallet?", b: "Yes! Thank goodness. I have found my wallet. It was under the sofa." },
                alternatives: "<strong>I found it!</strong><br><strong>Here it is!</strong>"
            },
            {
                eng: "I have had enough.", th: "ฉันทนไม่ไหวแล้ว / พอแล้ว",
                context: "เป็นสำนวนที่ใช้แสดงว่าเราหมดความอดทนกับสถานการณ์หรือพฤติกรรมบางอย่างแล้ว",
                dialogue: { a: "He is complaining again.", b: "That's it. I have had enough of his excuses." },
                alternatives: "<strong>I can't take it anymore.</strong><br><strong>This is the last straw.</strong> (นี่คือฟางเส้นสุดท้าย)"
            },
            {
                eng: "I have been there.", th: "ฉันเคยไปที่นั่นแล้ว",
                context: "ใช้บอกประสบการณ์ว่าเราเคยไปยังสถานที่นั้นๆ มาก่อน",
                dialogue: { a: "We should visit Chiang Mai.", b: "It's a beautiful city. I have been there twice." },
                alternatives: "<strong>I've visited there before.</strong>"
            },
            {
                eng: "I have read the terms and conditions.", th: "ฉันได้อ่านข้อกำหนดและเงื่อนไขแล้ว",
                context: "ใช้ยืนยันว่าได้ทำตามขั้นตอนที่จำเป็นก่อนที่จะดำเนินการต่อ เช่น การติดตั้งโปรแกรม หรือการสมัครบริการ",
                dialogue: { a: "Are you ready to install?", b: "Yes, I have read the terms and conditions." },
                alternatives: "<strong>I've gone through the terms.</strong>"
            },
            {
                eng: "I have understood the assignment.", th: "ฉันเข้าใจงานที่ได้รับมอบหมายแล้ว",
                context: "ใช้ยืนยันกับผู้สอนหรือหัวหน้าว่าเราเข้าใจคำสั่งและพร้อมที่จะเริ่มทำงาน",
                dialogue: { a: "Do you have any questions?", b: "No, everything is clear. I have understood the assignment." },
                alternatives: "<strong>I understand what I need to do.</strong><br><strong>Got it. I'm on it.</strong> (เข้าใจแล้ว กำลังจะเริ่มทำ)"
            }
        ];
        
        const grid = document.getElementById('sentences-grid');
        const modal = document.getElementById('modal');
        const modalHeader = document.getElementById('modal-header');
        const modalEnglish = document.getElementById('modal-english');
        const modalThai = document.getElementById('modal-thai');
        const modalDetails = document.getElementById('modal-details');
        const closeModalBtn = document.getElementById('close-modal-btn');

        sentences.forEach((sentence, index) => {
            const button = document.createElement('button');
            button.className = `group sentence-btn p-5 rounded-lg text-left bg-white border-2 border-orange-500 hover:bg-orange-500`;
            
            button.innerHTML = `
                <span class="font-poppins font-semibold text-orange-600 group-hover:text-white transition-colors duration-200">${sentence.eng}</span>
                <span class="block text-sm text-orange-500/80 font-normal mt-1 group-hover:text-white/80 transition-colors duration-200">${sentence.th}</span>
            `;

            button.addEventListener('click', () => openModal(sentence));
            grid.appendChild(button);
        });

        function openModal(sentence) {
            modalEnglish.textContent = sentence.eng;
            modalThai.textContent = sentence.th;

            modalDetails.innerHTML = `
                <div class="p-4 bg-slate-100 rounded-lg">
                    <h4 class="font-semibold text-lg text-slate-800 mb-2">💡 บริบทการใช้งาน (Context)</h4>
                    <p class="text-slate-600">${sentence.context}</p>
                </div>
                <div class="p-4 bg-slate-100 rounded-lg">
                    <h4 class="font-semibold text-lg text-slate-800 mb-2">💬 ตัวอย่างบทสนทนา (Dialogue)</h4>
                    <div class="space-y-1 text-slate-600">
                        <p><strong>A:</strong> ${sentence.dialogue.a}</p>
                        <p><strong>B:</strong> ${sentence.dialogue.b}</p>
                    </div>
                </div>
                <div class="p-4 bg-slate-100 rounded-lg">
                    <h4 class="font-semibold text-lg text-slate-800 mb-2">🔄 คำที่เกี่ยวข้อง / ใช้แทนได้ (Alternatives)</h4>
                    <div class="text-slate-600">${sentence.alternatives}</div>
                </div>
            `;

            modal.classList.add('active');
            modal.classList.remove('opacity-0', 'pointer-events-none');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.add('opacity-0', 'pointer-events-none');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                closeModal();
            }
        });
    </script>
</body>
</html>
